<app-page-header
  [title]="isEdit ? 'Edit user' : 'Create user'"
  subtitle="Update user profile and activation status"
></app-page-header>

<mat-card class="edit-card">
  <form class="form" [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field appearance="outline" class="full span-2">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" autocomplete="email" />
      @if (form.controls.email.touched && form.controls.email.invalid) {
        <mat-error>Enter a valid email</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="full">
      <mat-label>First name</mat-label>
      <input matInput formControlName="firstName" autocomplete="given-name" />
      @if (form.controls.firstName.touched && form.controls.firstName.invalid) {
        <mat-error>First name is required</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="full">
      <mat-label>Last name</mat-label>
      <input matInput formControlName="lastName" autocomplete="family-name" />
      @if (form.controls.lastName.touched && form.controls.lastName.invalid) {
        <mat-error>Last name is required</mat-error>
      }
    </mat-form-field>

    <div class="toggle span-2">
      <mat-slide-toggle formControlName="isActive">Active</mat-slide-toggle>
    </div>

    <div class="actions span-2">
      <button mat-stroked-button type="button" (click)="cancel()">Cancel</button>
      <button mat-flat-button type="submit">
        <mat-icon aria-hidden="true">check</mat-icon>
        {{ isEdit ? 'Save' : 'Create' }}
      </button>
    </div>
  </form>
</mat-card>
